<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

    <script language="JavaScript">

        /*
  多条记录      json格式的数据  跟图片

    */
        let register_url = 'http://127.0.0.1:8000/day06/register/';


        $(function () {
            $("#register_btn").click(function () {
                let formdata = new FormData();
                let fileobj = $('#head')[0].files[0];
                let username = $('#username').val();
                let password = $('#password').val();
                formdata.append('username', username);
                formdata.append('password', password);
                formdata.append('head', fileobj);
                $.ajax(register_url, {
                    type: 'POST',
                    data: formdata,
                    contentType: false,
                    /*告诉jquery不要处理数据*/
                    processData:
                        false,
                    cache:
                        false
                })
                ;
                return false
            });
        })


    </script>
</head>
<body>
<form id="register"
      action="/day06/register/"
      method="post"
      enctype="multipart/form-data">
    <input type="text" id="username">
    <input type="password" id="password">
    <input type="file" id="head">
    <input type="button" id="register_btn" value="注册">
    <input type="reset" value="重置">

</form>

</body>
</html>